<h2> {{ visitor.name }} <small>{{ visitor.company }}</small></h2>

<div class="row">

    <div class="panel panel-info col-md-8">
        <div class="panel-heading">
            <h3 class="panel-title">Visits</h3>
        </div>
        <div class="panel-body">

        </div>

        <table class="table table-hover">
            <thead>
                <tr>
                    <th>Visit Date</th>
                    <th>Site</th>
                    <th>Badge</th>
                    <th>No Escort</th>
                    <th>Keycard</th>
                    <th>Comment</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let visit of visits">
                    <td class="nowrap">{{ visit.date | date }}</td>
                    <td class="nowrap">{{ visit.site }}</td>
                    <td class="nowrap">
                        <span [style.text-decoration]="visit.badge.returned ? 'line-through' : 'initial'">
                            {{ visit.badge.badge }}
                        </span>
                    </td>
                    <td class="nowrap">
                        <i class="fa" [class.fa-check]="visit.badge.noEscort" [class.fa-times]="!visit.badge.noEscort"></i>
                    </td>
                    <td class="nowrap">
                        <span [style.text-decoration]="visit.keycard.returned ? 'line-through' : 'initial'">
                            {{ visit.keycard.keycard }}
                        </span>
                    </td>
                    <td>{{ visit.comments }}</td>
                </tr>
            </tbody>
        </table>
    </div>


    <div class="col-md-4 panel panel-info">
        <div class="panel-heading">
            <h3 class="panel-title">Attachments <small class="pull-right">Add <i class="fa fa-plus-circle"></i></small></h3>
        </div>
        <div class="panel-body">
        </div>
        <table class="table table-hover">
            <thead>
                <th>Filetype</th>
                <th>Filename</th>
                <th>Signed Date</th>
            </thead>
            <tbody>
                <tr *ngFor="let file of visitor.attachments.approved">
                    <td>Approval Form</td>
                    <td>{{ file.filename }}</td>
                    <td>
                        {{ file.dateSigned | date }}
                        ({{ file.dateSigned | amTimeAgo }})
                    </td>
                </tr>
                <tr *ngFor="let file of visitor.attachments.confidentiality">
                    <td>Confidentiality Form</td>
                    <td>{{ file.filename }}</td>
                    <td>
                        {{ file.dateSigned | date }}
                        ({{ file.dateSigned | amTimeAgo }})
                    </td>
                </tr>
                <tr *ngFor="let file of visitor.attachments.recording">
                    <td>Recording Device Form</td>
                    <td>{{ file.filename }}</td>
                    <td>
                        {{ file.dateSigned | date }}    
                        ({{ file.dateSigned | amTimeAgo }})
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

</div>


<input type="file" (change)="fileChanged($event)">


<button type="button" class="btn btn-default" (click)="testFile()">Test Files</button>


<!--<pre> {{ visits | json }} </pre>-->